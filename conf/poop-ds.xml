<?xml version="1.0" encoding="UTF-8"?>

<connection-factories>

	<!-- The JMS provider loader -->
	<mbean code="org.jboss.jms.jndi.JMSProviderLoader"
		name="jboss.mq:service=JMSProviderLoader,name=JBossMQProvider">
		<attribute name="ProviderName">DefaultJMSProvider</attribute>
		<attribute name="ProviderAdapterClass">org.jboss.jms.jndi.JBossMQProvider</attribute>
		<attribute name="QueueFactoryRef">java:/XAConnectionFactory</attribute>
		<attribute name="TopicFactoryRef">java:/XAConnectionFactory</attribute>
	</mbean>
	
	<!-- JMS XA Resource adapter, use this to get transacted JMS in beans -->
	<tx-connection-factory>
		<jndi-name>JmsXA</jndi-name>
		<xa-transaction />

		<!-- JBoss 4.0.x -->
		<rar-name>jms-ra.rar</rar-name>
		<connection-definition>org.jboss.resource.adapter.jms.JmsConnectionFactory</connection-definition>

		<config-property 
			name="SessionDefaultType"
			type="java.lang.String">
				javax.jms.Topic
		</config-property>
		<security-domain-and-application>JmsXARealm</security-domain-and-application>
	</tx-connection-factory>
</connection-factories>
